<!DOCTYPE html>
<html lang="fr"><head>
<script src="cours_6_analyse_textuelle_files/libs/clipboard/clipboard.min.js"></script>
<script src="cours_6_analyse_textuelle_files/libs/quarto-html/tabby.min.js"></script>
<script src="cours_6_analyse_textuelle_files/libs/quarto-html/popper.min.js"></script>
<script src="cours_6_analyse_textuelle_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="cours_6_analyse_textuelle_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="cours_6_analyse_textuelle_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="cours_6_analyse_textuelle_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="cours_6_analyse_textuelle_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.554">

  <meta name="author" content="Laurence-Olivier M. Foisy">
  <title>Cours 6 : L’analyse textuelle</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="cours_6_analyse_textuelle_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="cours_6_analyse_textuelle_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="cours_6_analyse_textuelle_files/libs/revealjs/dist/theme/quarto.css">
  <link href="cours_6_analyse_textuelle_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="cours_6_analyse_textuelle_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="cours_6_analyse_textuelle_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="cours_6_analyse_textuelle_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <meta name="mermaid-theme" content="dark">
  <script src="cours_6_analyse_textuelle_files/libs/quarto-diagram/mermaid.min.js"></script>
  <script src="cours_6_analyse_textuelle_files/libs/quarto-diagram/mermaid-init.js"></script>
  <link href="cours_6_analyse_textuelle_files/libs/quarto-diagram/mermaid.css" rel="stylesheet">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Cours 6 : L’analyse textuelle</h1>
  <p class="subtitle">Introduction aux mégadonnées en sciences sociales</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Laurence-Olivier M. Foisy 
</div>
        <p class="quarto-title-affiliation">
            Université de Montréal
          </p>
    </div>
</div>

</section>
<section>
<section id="retour-sur-le-quiz-1" class="title-slide slide level1 smaller center">
<h1>Retour sur le Quiz 1</h1>
<ul>
<li>Chemins d’accès relatifs et (../..)</li>
<li>Les factors</li>
<li>Alpha de Cronbach à 0.6?</li>
<li>Utilisation de ChatGPT</li>
<li>Éviter de mettre raw dans clean</li>
<li>Éviter de mettre les citations en texte</li>
<li>Ne laissez pas de code inutile</li>
<li>Comment retourner sur GitHub pour voir l’ancienne version de votre TP1</li>
</ul>
</section>
<section id="utiliser-..-dans-les-chemins-daccès" class="slide level2 smaller">
<h2>Utiliser .. dans les chemins d’accès</h2>
<p>Dans le quarto, le chemin vers le graph était:</p>
<p><code>![](../../results/graphs/evolution_graph.png)</code></p>
<pre><code>quiz_1/ &lt;---------------------------------------- R Part de ici
├── data/
│&nbsp;&nbsp; └── raw
│&nbsp;&nbsp;     ├── ces2021.csv
│&nbsp;&nbsp;     └── CES-E-1993_F1_subset.csv
├── docs
│&nbsp;&nbsp; ├── codebooks/
│&nbsp;&nbsp; └── quiz_1
│&nbsp;&nbsp;     ├── img
│&nbsp;&nbsp;     │&nbsp;&nbsp; └── UdeM_CoA.png
│&nbsp;&nbsp;     ├── quiz_1.pdf
│&nbsp;&nbsp;     ├── quiz_1.qmd &lt;------------------------- Quarto part de ici 
│&nbsp;&nbsp;     └── references.bib
├── R
│&nbsp;&nbsp; ├── 1_cleaning_1993.R
│&nbsp;&nbsp; ├── 2_cleaning_2021.R
│&nbsp;&nbsp; ├── 3_merging.R
│&nbsp;&nbsp; └── 4_graph.R
├── README.md
└── results
    └── graphs
        └── evolution_graph.png</code></pre>
</section>
<section id="les-factors" class="slide level2">
<h2>Les factors</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href=""></a><span class="fu">table</span>(df_raw_1993<span class="sc">$</span>CPSIGEN, <span class="at">useNA =</span> <span class="st">"ifany"</span>) </span>
<span id="cb2-2"><a href=""></a>df_clean_1993<span class="sc">$</span>ses_female <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb2-3"><a href=""></a>df_clean_1993<span class="sc">$</span>ses_female[df_raw_1993<span class="sc">$</span>CPSIGEN <span class="sc">!=</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb2-4"><a href=""></a>df_clean_1993<span class="sc">$</span>ses_female[df_raw_1993<span class="sc">$</span>CPSIGEN <span class="sc">==</span> <span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="dv">1</span> </span>
<span id="cb2-5"><a href=""></a>df_clean_1993<span class="sc">$</span>ses_female <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(df_clean_1993<span class="sc">$</span>ses_female)</span>
<span id="cb2-6"><a href=""></a><span class="fu">table</span>(df_clean_1993<span class="sc">$</span>ses_female, <span class="at">useNA =</span> <span class="st">"ifany"</span>) </span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Si on fait <code>class(df_clean$ses_female)</code></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href=""></a>r<span class="sc">$</span><span class="er">&gt;</span> <span class="fu">class</span>(df_clean_1993<span class="sc">$</span>ses_female)</span>
<span id="cb3-2"><a href=""></a>[<span class="dv">1</span>] <span class="st">"factor"</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="quand-utiliser-les-factors" class="slide level2">
<h2>Quand utiliser les factors?</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href=""></a><span class="fu">table</span>(df_raw<span class="sc">$</span>country, <span class="at">useNA =</span> <span class="st">"ifany"</span>)</span>
<span id="cb4-2"><a href=""></a>df_clean<span class="sc">$</span>country[df_raw<span class="sc">$</span>country <span class="sc">==</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="st">"CA"</span></span>
<span id="cb4-3"><a href=""></a>df_clean<span class="sc">$</span>country[df_raw<span class="sc">$</span>country <span class="sc">==</span> <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="st">"UK"</span></span>
<span id="cb4-4"><a href=""></a>df_clean<span class="sc">$</span>country[df_raw<span class="sc">$</span>country <span class="sc">==</span> <span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="st">"FR"</span></span>
<span id="cb4-5"><a href=""></a>df_clean<span class="sc">$</span>country <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(df_clean<span class="sc">$</span>country)</span>
<span id="cb4-6"><a href=""></a><span class="fu">table</span>(df_clean<span class="sc">$</span>country, <span class="at">useNA =</span> <span class="st">"ifany"</span>)</span>
<span id="cb4-7"><a href=""></a></span>
<span id="cb4-8"><a href=""></a>m <span class="ot">&lt;-</span> <span class="fu">lm</span>(variable <span class="sc">~</span> country, <span class="at">data =</span> df_clean)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="évitez-de-mettre-raw-dans-clean" class="slide level2 smaller">
<h2>Évitez de mettre raw dans clean</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href=""></a><span class="fu">table</span>(df_raw_1993<span class="sc">$</span>CPSIGEN)</span>
<span id="cb5-2"><a href=""></a>df_clean_1993 <span class="ot">&lt;-</span> df_raw_1993 <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">ses_female =</span> <span class="fu">case_when</span>(</span>
<span id="cb5-4"><a href=""></a>    CPSIGEN <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb5-5"><a href=""></a>    CPSIGEN <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb5-6"><a href=""></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA_real_</span> ))</span>
<span id="cb5-7"><a href=""></a><span class="fu">table</span>(df_clean_1993<span class="sc">$</span>ses_female, <span class="at">useNA =</span> <span class="st">"ifany"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>La variable est polluée</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href=""></a>r<span class="sc">$</span><span class="er">&gt;</span> <span class="fu">names</span>(df_clean_1993)</span>
<span id="cb6-2"><a href=""></a>[<span class="dv">1</span>] <span class="st">"CPSIGEN"</span>          <span class="st">"CPSA3"</span>           </span>
<span id="cb6-3"><a href=""></a>[<span class="dv">3</span>] <span class="st">"CPSG1"</span>            <span class="st">"CPSO11"</span>          </span>
<span id="cb6-4"><a href=""></a>[<span class="dv">5</span>] <span class="st">"CPSA2"</span>            <span class="st">"ses_female"</span>      </span>
<span id="cb6-5"><a href=""></a>[<span class="dv">7</span>] <span class="st">"vote_probability"</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="utiliser-les-citations-en-markdown" class="slide level2 smaller">
<h2>Utiliser les citations en markdown</h2>
<h3 id="la-mauvaise-façon">La mauvaise façon <span class="emoji" data-emoji="x">❌</span></h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb7-1"><a href=""></a>Selon Wickham (2014) <span class="co">[</span><span class="ot">@wickham14</span><span class="co">]</span>, les tidy data ont trois propriétés.</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Selon Wickham (2014) (Wickham, 2014), les tidy data ont trois propriétés.</p>
<h3 id="les-deux-options">Les deux options <span class="emoji" data-emoji="white_check_mark">✅</span></h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb8-1"><a href=""></a>Selon @wickham14, les tidy data ont trois propriétés.</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Selon Wickham (2014), les tidy data ont trois propriétés:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb9-1"><a href=""></a>Les tidy data ont trois propriétés <span class="co">[</span><span class="ot">@wickham14</span><span class="co">]</span>.</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Les tidy data ont trois propriétés (Wickham, 2014).</p>
</section>
<section id="ne-pas-laisser-de-code-inutile" class="slide level2 smaller">
<h2>Ne pas laisser de code inutile</h2>
<p>Utiliser l’historique GitHub pour voir les changements</p>

<img data-src="img/github_history.png" class="r-stretch"></section>
<section id="tp2---travail-de-mi-session" class="slide level2 smaller">
<h2>TP2 - Travail de mi-session</h2>
<div class="columns">
<div class="column" style="width:45%;">
<ol type="1">
<li>À remettre le 12 mars 2025 avant minuit</li>
<li>20% de la note finale</li>
<li>Préparation de l’environnement de travail</li>
<li>Création de l’arborescence</li>
<li>Préparation des données</li>
</ol>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:45%;">
<ol start="6" type="1">
<li>Une visualisation</li>
<li>Un document quarto</li>
<li>Une question de recherche</li>
<li>Courte revue de littérature</li>
<li>Source et structure des données</li>
<li>Planification méthodologique</li>
</ol>
</div>
</div>
</section>
<section id="section" class="slide level2" data-transition="none">
<h2></h2>

<img data-src="img/orga.jpg" class="r-stretch"></section>
<section id="section-1" class="slide level2" data-transition="none">
<h2></h2>

<img data-src="img/orga_3d.jpg" class="r-stretch"></section>
<section id="gabarit-suggéré" class="slide level2 smaller">
<h2>Gabarit suggéré</h2>
<ol type="1">
<li>Introduction</li>
<li>Question de recherche</li>
<li>Revue de littérature</li>
<li>Hypothèses</li>
<li>Méthodologie</li>
<li>Résultats</li>
<li>Discussion</li>
<li>Conclusion</li>
</ol>
</section></section>
<section>
<section id="introduction-à-lanalyse-textuelle" class="title-slide slide level1 center">
<h1>Introduction à l’analyse textuelle</h1>

</section>
<section id="section-2" class="slide level2">
<h2></h2>

<img data-src="img/structure_cours.png" class="r-stretch"></section>
<section id="pourquoi-analyser-du-texte" class="slide level2">
<h2>Pourquoi analyser du texte?</h2>
<h3 id="les-données-sont-partout">Les données sont partout <span class="emoji" data-emoji="earth_americas">🌎</span> <span class="emoji" data-emoji="earth_africa">🌍</span> <span class="emoji" data-emoji="earth_asia">🌏</span></h3>
<ul>
<li>Données textuelles disponibles en grande quantité</li>
<li>Méthodes de recherche de plus en plus accessibles</li>
<li>Idée(s) sur différentes sources de données textuelles?</li>
</ul>
</section>
<section id="section-3" class="slide level2" data-background-image="img/newspapers.webp" data-background-size="cover">
<h2></h2>
</section>
<section id="section-4" class="slide level2" data-background-image="img/assnat.avif" data-background-size="cover">
<h2></h2>
</section>
<section id="lexplosion-des-données-textuelles" class="slide level2">
<h2>L’explosion des données textuelles</h2>
<ul>
<li>Médias sociaux</li>
<li>Articles de presse
<ul>
<li><a href="https://bib.umontreal.ca/guides/types-documents/journaux">Eureka et Factiva</a></li>
</ul></li>
<li>Documents légaux</li>
<li>Sondages (questions ouvertes)</li>
<li>Courriels</li>
<li>Messages instantanés</li>
<li>Beaucoup plus</li>
</ul>
</section>
<section id="que-peut-on-faire-avec-le-texte" class="slide level2">
<h2>Que peut-on faire avec le texte?</h2>
<ol type="1">
<li>Analyse de sentiment</li>
<li>Classification de documents</li>
<li>Extraction de thèmes</li>
<li>Résumé automatique</li>
<li>Analyse de discours</li>
</ol>
</section>
<section id="différentes-méthodes-danalyse-textuelle" class="slide level2">
<h2>Différentes méthodes d’analyse textuelle</h2>

<img data-src="img/schema_analyse_textuelle.png" class="r-stretch"></section>
<section id="de-texte-à-données" class="slide level2">
<h2>De texte à données</h2>
<div class="cell" data-reveal="true" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class=""><p></p>
<div>
<pre class="mermaid mermaid-js">%%{init: {"theme": "base", "themeVariables": {"primaryColor": "#f4f4f4", "textColor": "#333", "lineColor": "#666"}, "flowchart": {"nodeSpacing": 200, "rankSpacing": 150, "diagramPadding": 50, "htmlLabels": true}}}%%
graph LR
    A[Texte brut] --&gt; B[Nettoyage]
    B --&gt; C[Tokenisation]
    C --&gt; D[Analyse]
    D --&gt; E[Visualisation]
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</section></section>
<section>
<section id="introduction-aux-expressions-régulières" class="title-slide slide level1 center">
<h1>Introduction aux expressions régulières</h1>

</section>
<section id="quest-ce-quon-essaie-de-faire" class="slide level2">
<h2>Qu’est-ce qu’on essaie de faire?</h2>
<ul>
<li>Trouver des patterns dans du texte</li>
<li>Exemple : Trouver tous les numéros de téléphone dans un document</li>
<li>Exemple : Extraire tous les courriels d’un texte</li>
</ul>
</section>
<section id="un-exemple-concret" class="slide level2">
<h2>Un exemple concret</h2>
<p>Imaginons que vous ayez ce texte:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb10-1"><a href=""></a>Contact: Marie (514-555-1234) </span>
<span id="cb10-2"><a href=""></a>Courriel: marie@udem.ca</span>
<span id="cb10-3"><a href=""></a>Contact: Pierre (438-555-5678)</span>
<span id="cb10-4"><a href=""></a>Courriel: pierre@udem.ca</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Comment trouver automatiquement tous les numéros de téléphone?</p>
</section>
<section id="la-solution-manuelle" class="slide level2">
<h2>La solution “manuelle”</h2>
<ol type="1">
<li>Chercher des chiffres</li>
<li>Regroupés par 3 ou 4</li>
<li>Séparés par des tirets</li>
<li>Commençant par 514 ou 438</li>
</ol>
</section>
<section id="la-solution-avec-regex" class="slide level2">
<h2>La solution avec regex</h2>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href=""></a><span class="co"># Un pattern qui trouve les numéros de téléphone</span></span>
<span id="cb11-2"><a href=""></a><span class="st">"</span><span class="sc">\\</span><span class="st">d{3}-</span><span class="sc">\\</span><span class="st">d{3}-</span><span class="sc">\\</span><span class="st">d{4}"</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="décomposons-le-pattern" class="slide level2">
<h2>Décomposons le pattern</h2>
<ul>
<li><code>\d</code> : un chiffre (0-9)</li>
<li><code>{3}</code> : exactement 3 fois</li>
<li><code>-</code> : un tiret</li>
<li>Donc <code>\d{3}-\d{3}-\d{4}</code> trouve: “514-555-1234”</li>
</ul>
</section>
<section id="pourquoi-cest-utile" class="slide level2">
<h2>Pourquoi c’est utile?</h2>
<ul>
<li>Automatise la recherche de patterns</li>
<li>Fonctionne sur n’importe quelle quantité de texte</li>
<li>Plus rapide et fiable que la recherche manuelle</li>
<li>Essentiel pour le nettoyage de données textuelles</li>
</ul>
</section>
<section id="utilisation-dans-r" class="slide level2">
<h2>Utilisation dans R</h2>
<h3 id="le-package-stringr">Le package stringr</h3>
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href=""></a><span class="co"># Installation si nécessaire</span></span>
<span id="cb12-2"><a href=""></a><span class="fu">install.packages</span>(<span class="st">"stringr"</span>)</span>
<span id="cb12-3"><a href=""></a></span>
<span id="cb12-4"><a href=""></a><span class="co"># Chargement</span></span>
<span id="cb12-5"><a href=""></a><span class="fu">library</span>(stringr)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Fait partie du tidyverse</li>
<li>Fonctions simples et cohérentes</li>
<li>Documentation claire avec de nombreux exemples</li>
</ul>
</section>
<section id="fonctions-principales-de-stringr" class="slide level2">
<h2>Fonctions principales de stringr</h2>
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href=""></a><span class="co"># Détecter un pattern</span></span>
<span id="cb13-2"><a href=""></a><span class="fu">str_detect</span>(string, pattern)</span>
<span id="cb13-3"><a href=""></a></span>
<span id="cb13-4"><a href=""></a><span class="co"># Extraire un pattern</span></span>
<span id="cb13-5"><a href=""></a><span class="fu">str_extract</span>(string, pattern)</span>
<span id="cb13-6"><a href=""></a></span>
<span id="cb13-7"><a href=""></a><span class="co"># Remplacer un pattern</span></span>
<span id="cb13-8"><a href=""></a><span class="fu">str_replace</span>(string, pattern, replacement)</span>
<span id="cb13-9"><a href=""></a></span>
<span id="cb13-10"><a href=""></a><span class="co"># Séparer selon un pattern</span></span>
<span id="cb13-11"><a href=""></a><span class="fu">str_split</span>(string, pattern)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="exemple-pratique" class="slide level2">
<h2>Exemple pratique</h2>
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href=""></a><span class="fu">library</span>(stringr)</span>
<span id="cb14-2"><a href=""></a></span>
<span id="cb14-3"><a href=""></a><span class="co"># Notre texte</span></span>
<span id="cb14-4"><a href=""></a>text <span class="ot">&lt;-</span> <span class="st">"Contact: Marie (514-555-1234), Pierre (438-555-5678)"</span></span>
<span id="cb14-5"><a href=""></a></span>
<span id="cb14-6"><a href=""></a><span class="co"># Trouver tous les numéros</span></span>
<span id="cb14-7"><a href=""></a>numeros <span class="ot">&lt;-</span> <span class="fu">str_extract_all</span>(text, <span class="st">"</span><span class="sc">\\</span><span class="st">d{3}-</span><span class="sc">\\</span><span class="st">d{3}-</span><span class="sc">\\</span><span class="st">d{4}"</span>)</span>
<span id="cb14-8"><a href=""></a></span>
<span id="cb14-9"><a href=""></a><span class="co"># Résultat</span></span>
<span id="cb14-10"><a href=""></a><span class="fu">print</span>(numeros)</span>
<span id="cb14-11"><a href=""></a><span class="co"># [[1]]</span></span>
<span id="cb14-12"><a href=""></a><span class="co"># [1] "514-555-1234" "438-555-5678"</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="les-briques-de-base-des-regex" class="slide level2 smaller">
<h2>Les briques de base des regex</h2>
<h3 id="rechercher-des-chiffres-avec-d">Rechercher des chiffres avec <code>\d</code></h3>
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href=""></a>texte <span class="ot">&lt;-</span> <span class="st">"Je suis né en 1990 et j'ai 33 ans"</span></span>
<span id="cb15-2"><a href=""></a><span class="fu">str_extract_all</span>(texte, <span class="st">"</span><span class="sc">\\</span><span class="st">d+"</span>)</span>
<span id="cb15-3"><a href=""></a><span class="co"># Résultat: [1] "1990" "33"</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<h3 id="rechercher-des-lettres-avec-a-z-et-a-z">Rechercher des lettres avec <code>[A-Z]</code> et <code>[a-z]</code></h3>
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href=""></a>texte <span class="ot">&lt;-</span> <span class="st">"QUÉBEC est une ville du Canada"</span></span>
<span id="cb16-2"><a href=""></a><span class="co"># Trouver les mots en majuscules</span></span>
<span id="cb16-3"><a href=""></a><span class="fu">str_extract</span>(texte, <span class="st">"[A-Z]+"</span>)</span>
<span id="cb16-4"><a href=""></a><span class="co"># Résultat: "QUÉBEC"</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<h3 id="rechercher-des-espaces-avec-s">Rechercher des espaces avec <code>\s</code></h3>
<div class="sourceCode" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href=""></a>texte <span class="ot">&lt;-</span> <span class="st">"mot     clé"</span></span>
<span id="cb17-2"><a href=""></a><span class="co"># Remplacer les espaces multiples par un seul espace</span></span>
<span id="cb17-3"><a href=""></a><span class="fu">str_replace_all</span>(texte, <span class="st">"</span><span class="sc">\\</span><span class="st">s+"</span>, <span class="st">" "</span>)</span>
<span id="cb17-4"><a href=""></a><span class="co"># Résultat: "mot clé"</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="les-quantificateurs-combien-de-fois" class="slide level2 smaller">
<h2>Les quantificateurs : Combien de fois?</h2>
<h3 id="le-un-ou-plusieurs">Le <code>+</code> : “un ou plusieurs”</h3>
<div class="sourceCode" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href=""></a><span class="co"># Trouver les nombres (un ou plusieurs chiffres)</span></span>
<span id="cb18-2"><a href=""></a>texte <span class="ot">&lt;-</span> <span class="st">"J'ai 1 chat et 22 poissons"</span></span>
<span id="cb18-3"><a href=""></a><span class="fu">str_extract_all</span>(texte, <span class="st">"</span><span class="sc">\\</span><span class="st">d+"</span>)</span>
<span id="cb18-4"><a href=""></a><span class="co"># Résultat: [1] "1" "22"</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<h3 id="le-zéro-ou-plusieurs">Le <code>*</code> : “zéro ou plusieurs”</h3>
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href=""></a><span class="co"># Trouver les mots avec ou sans 's' à la fin</span></span>
<span id="cb19-2"><a href=""></a>texte <span class="ot">&lt;-</span> <span class="st">"chat chats chien chiens"</span></span>
<span id="cb19-3"><a href=""></a><span class="fu">str_extract_all</span>(texte, <span class="st">"chat[s]*"</span>)</span>
<span id="cb19-4"><a href=""></a><span class="co"># Résultat: [1] "chat" "chats"</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<h3 id="le-optionnel-zéro-ou-un">Le <code>?</code> : “optionnel (zéro ou un)”</h3>
<div class="sourceCode" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href=""></a><span class="co"># Trouver 'behaviour' ou 'behavior'</span></span>
<span id="cb20-2"><a href=""></a>texte <span class="ot">&lt;-</span> <span class="st">"behaviour and behavior"</span></span>
<span id="cb20-3"><a href=""></a><span class="fu">str_extract_all</span>(texte, <span class="st">"behaviou?r"</span>)</span>
<span id="cb20-4"><a href=""></a><span class="co"># Résultat: [1] "behaviour" "behavior"</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="exemples-pratiques-pour-les-sciences-sociales" class="slide level2 smaller">
<h2>Exemples pratiques pour les sciences sociales</h2>
<h3 id="extraire-des-codes-postaux-canadiens">Extraire des codes postaux canadiens</h3>
<div class="sourceCode" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href=""></a>adresse <span class="ot">&lt;-</span> <span class="st">"Mon adresse est H2X 1Y6"</span></span>
<span id="cb21-2"><a href=""></a><span class="fu">str_extract</span>(adresse, <span class="st">"[A-Z]</span><span class="sc">\\</span><span class="st">d[A-Z]</span><span class="sc">\\</span><span class="st">s?</span><span class="sc">\\</span><span class="st">d[A-Z]</span><span class="sc">\\</span><span class="st">d"</span>)</span>
<span id="cb21-3"><a href=""></a><span class="co"># Résultat: "H2X 1Y6"</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<h3 id="extraire-des-identifiants-twitter">Extraire des identifiants Twitter</h3>
<div class="sourceCode" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href=""></a>tweet <span class="ot">&lt;-</span> <span class="st">"Suivez-moi @MonProfR et @UdeM"</span></span>
<span id="cb22-2"><a href=""></a><span class="fu">str_extract_all</span>(tweet, <span class="st">"@</span><span class="sc">\\</span><span class="st">w+"</span>)</span>
<span id="cb22-3"><a href=""></a><span class="co"># Résultat: [1] "@MonProfR" "@UdeM"</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<h3 id="identifier-des-urls-dans-un-texte">Identifier des URLs dans un texte</h3>
<div class="sourceCode" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href=""></a>texte <span class="ot">&lt;-</span> <span class="st">"Visitez https://www.umontreal.ca pour plus d'infos"</span></span>
<span id="cb23-2"><a href=""></a><span class="fu">str_extract</span>(texte, <span class="st">"https?://[</span><span class="sc">\\</span><span class="st">w</span><span class="sc">\\</span><span class="st">.]+</span><span class="sc">\\</span><span class="st">.</span><span class="sc">\\</span><span class="st">w+"</span>)</span>
<span id="cb23-3"><a href=""></a><span class="co"># Résultat: [1] "https://www.umontreal.ca"</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="comment-utiliser-les-regex-en-r" class="slide level2">
<h2>Comment utiliser les regex en R?</h2>
<div class="columns">
<div class="column" style="width:40%;">
<ol type="1">
<li>Les numéros de téléphone?</li>
<li>Les adresses courriel?</li>
<li>Les pourcentages?</li>
</ol>
<p><strong>L’intelligence artificielle <span class="emoji" data-emoji="wink">😉</span></strong></p>
</div><div class="column" style="width:65%;">
<p><img data-src="img/regex_claude.png" class="absolute" style="top: 100px; left: 600px; width: 50%; "></p>
</div>
</div>
</section></section>
<section>
<section id="les-fonctions" class="title-slide slide level1 center">
<h1>Les fonctions</h1>

</section>
<section id="quest-ce-quune-fonction-en-r" class="slide level2">
<h2>Qu’est-ce qu’une fonction en R?</h2>
<ul>
<li>Une fonction est un bloc de code réutilisable</li>
<li>Elle effectue une tâche spécifique</li>
<li>Elle peut accepter des inputs (arguments)</li>
<li>Elle produit généralement un output</li>
</ul>
<div class="sourceCode" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href=""></a><span class="co"># Structure de base d'une fonction</span></span>
<span id="cb24-2"><a href=""></a>ma_fonction <span class="ot">&lt;-</span> <span class="cf">function</span>(argument1, argument2) {</span>
<span id="cb24-3"><a href=""></a>  <span class="co"># Corps de la fonction</span></span>
<span id="cb24-4"><a href=""></a>  resultat <span class="ot">&lt;-</span> argument1 <span class="sc">+</span> argument2</span>
<span id="cb24-5"><a href=""></a>  <span class="fu">return</span>(resultat)</span>
<span id="cb24-6"><a href=""></a>}</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="pourquoi-utiliser-des-fonctions" class="slide level2">
<h2>Pourquoi utiliser des fonctions?</h2>
<ul>
<li><strong>Réutiliser du code</strong>: Évite de copier-coller et répéter le même code</li>
<li><strong>Modularité</strong>: Décompose des problèmes complexes en parties gérables</li>
<li><strong>Lisibilité</strong>: Rend le code plus facile à comprendre</li>
</ul>
</section>
<section id="types-de-fonctions-en-r" class="slide level2">
<h2>Types de fonctions en R</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Fonctions intégrées</strong> - <code>mean()</code>, <code>sum()</code>, <code>length()</code> - <code>read.csv()</code>, <code>write.csv()</code> - <code>lm()</code>, <code>glm()</code></p>
</div><div class="column" style="width:50%;">
<p><strong>Fonctions de packages</strong> - <code>dplyr::filter()</code> - <code>ggplot2::geom_point()</code> - <code>sondr::topdown_fa()</code></p>
</div>
</div>
<p><strong>Fonctions personnalisées</strong> - Créées par vous pour des besoins spécifiques</p>
</section>
<section id="anatomie-dune-fonction" class="slide level2 smaller">
<h2>Anatomie d’une fonction</h2>
<div class="sourceCode" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href=""></a>calculer_moyenne <span class="ot">&lt;-</span> <span class="cf">function</span>(nombres) {</span>
<span id="cb25-2"><a href=""></a>  <span class="co"># Documentation: Calcule la moyenne d'un vecteur de nombres</span></span>
<span id="cb25-3"><a href=""></a>  </span>
<span id="cb25-4"><a href=""></a>  <span class="co"># Corps de la fonction</span></span>
<span id="cb25-5"><a href=""></a>  somme <span class="ot">&lt;-</span> <span class="fu">sum</span>(nombres)       <span class="co"># Somme de tous les nombres</span></span>
<span id="cb25-6"><a href=""></a>  taille <span class="ot">&lt;-</span> <span class="fu">length</span>(nombres)   <span class="co"># Nombre d'éléments</span></span>
<span id="cb25-7"><a href=""></a>  moyenne <span class="ot">&lt;-</span> somme <span class="sc">/</span> taille   <span class="co"># Calcul de la moyenne</span></span>
<span id="cb25-8"><a href=""></a>  </span>
<span id="cb25-9"><a href=""></a>  <span class="co"># Valeur de retour</span></span>
<span id="cb25-10"><a href=""></a>  <span class="fu">return</span>(moyenne)</span>
<span id="cb25-11"><a href=""></a>}</span>
<span id="cb25-12"><a href=""></a></span>
<span id="cb25-13"><a href=""></a><span class="co"># Utilisation</span></span>
<span id="cb25-14"><a href=""></a>moyenne_classe <span class="ot">&lt;-</span> <span class="fu">calculer_moyenne</span>(<span class="fu">c</span>(<span class="dv">85</span>, <span class="dv">90</span>, <span class="dv">78</span>, <span class="dv">92</span>, <span class="dv">88</span>))</span>
<span id="cb25-15"><a href=""></a><span class="fu">print</span>(moyenne_classe)  <span class="co"># Affiche: 86.6</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><strong>Nom</strong>: Choisir un nom descriptif, utiliser des verbes</li>
<li><strong>Arguments</strong>: Paramètres d’entrée, peuvent avoir des valeurs par défaut</li>
<li><strong>Corps</strong>: Les opérations à effectuer</li>
<li><strong>Retour</strong>: La valeur ou l’objet que la fonction renvoie</li>
</ul>
</section>
<section id="bonnes-pratiques-pour-les-fonctions" class="slide level2">
<h2>Bonnes pratiques pour les fonctions</h2>
<ul>
<li>Donner des noms clairs et descriptifs
<ul>
<li>Utiliser des verbes pour les fonctions (<code>calculer_</code>, <code>analyser_</code>)</li>
</ul></li>
<li>Une fonction = une tâche unique et précise</li>
<li>Ajouter des commentaires expliquant le but et les arguments</li>
</ul>
</section></section>
<section>
<section id="analyse-de-sentiment" class="title-slide slide level1 center">
<h1>Analyse de sentiment</h1>

</section>
<section id="la-ligne-rouge" class="slide level2" data-transition="none">
<h2>La ligne rouge</h2>
<div class="columns">
<div class="column" style="width:60%;">
<blockquote>
<p>Super good kebab! The portions are generous, the prices are really reasonable, and the quality is there. Tasty meat, fresh bread, and everything is well seasoned. An excellent address for a meal that is good without breaking the bank. I recommend!</p>
</blockquote>
</div><div class="column" style="width:40%;">
<ul>
<li>Sentiment: Positif</li>
<li>Thèmes: Nourriture, Prix</li>
<li>Note: 5/5</li>
</ul>
</div>
</div>
</section>
<section id="étape-1-création-du-dataframe" class="slide level2" data-transition="none">
<h2>Étape 1: Création du dataframe</h2>
<div class="sourceCode" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href=""></a><span class="co"># Créer un data.frame avec notre review</span></span>
<span id="cb26-2"><a href=""></a>review <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb26-3"><a href=""></a>  <span class="at">restaurant =</span> <span class="st">"La ligne rouge"</span>,</span>
<span id="cb26-4"><a href=""></a>  <span class="at">text =</span> <span class="st">"Super good kebab! The portions are generous, the prices are really reasonable, and the quality is there. Tasty meat, fresh bread, and everything is well seasoned. An excellent address for a meal that is good without breaking the bank. I recommend!"</span>,</span>
<span id="cb26-5"><a href=""></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb26-6"><a href=""></a>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<h3 id="donne-un-dataframe-comme-ceci">Donne un dataframe comme ceci</h3>
<table>
<thead>
<tr class="header">
<th>restaurant</th>
<th>text</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>La ligne rouge</td>
<td>Super good kebab! […]</td>
</tr>
</tbody>
</table>
</section>
<section id="étape-2-nettoyage-de-base" class="slide level2" data-transition="none">
<h2>Étape 2: Nettoyage de base</h2>
<div class="sourceCode" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href=""></a><span class="co"># Nettoyage avec stringr</span></span>
<span id="cb27-2"><a href=""></a>review_clean <span class="ot">&lt;-</span> review</span>
<span id="cb27-3"><a href=""></a>review_clean<span class="sc">$</span>text <span class="ot">&lt;-</span> stringr<span class="sc">::</span><span class="fu">str_to_lower</span>(review_clean<span class="sc">$</span>text)                 <span class="co"># Minuscules</span></span>
<span id="cb27-4"><a href=""></a>review_clean<span class="sc">$</span>text <span class="ot">&lt;-</span> stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(review_clean<span class="sc">$</span>text, <span class="st">"!"</span>)          <span class="co"># Exclamations</span></span>
<span id="cb27-5"><a href=""></a>review_clean<span class="sc">$</span>text <span class="ot">&lt;-</span> stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(review_clean<span class="sc">$</span>text, <span class="st">"</span><span class="sc">\\</span><span class="st">."</span>)        <span class="co"># Points</span></span>
<span id="cb27-6"><a href=""></a>review_clean<span class="sc">$</span>text <span class="ot">&lt;-</span> stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(review_clean<span class="sc">$</span>text, <span class="st">","</span>)          <span class="co"># Virgules</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="columns">
<div class="column" style="width:100%;">
<blockquote>
<p><span style="color:#880808">S</span>uper good kebab<span style="color:#880808">!</span> <span style="color:#880808">T</span>he portions are generous<span style="color:#880808">,</span> the prices are really reasonable<span style="color:#880808">,</span> and the quality is there<span style="color:#880808">.</span> <span style="color:#880808">T</span>asty meat<span style="color:#880808">,</span> fresh bread<span style="color:#880808">,</span> and everything is well seasoned<span style="color:#880808">.</span> <span style="color:#880808">A</span>n excellent address for a meal that is good without breaking the bank<span style="color:#880808">.</span> <span style="color:#880808">I</span> recommend<span style="color:#880808">!</span></p>
</blockquote>
</div>
</div>
</section>
<section id="étape-2-nettoyage-de-base-1" class="slide level2" data-transition="none">
<h2>Étape 2: Nettoyage de base</h2>
<div class="sourceCode" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href=""></a><span class="co"># Nettoyage avec stringr</span></span>
<span id="cb28-2"><a href=""></a>review_clean <span class="ot">&lt;-</span> review</span>
<span id="cb28-3"><a href=""></a>review_clean<span class="sc">$</span>text <span class="ot">&lt;-</span> stringr<span class="sc">::</span><span class="fu">str_to_lower</span>(review_clean<span class="sc">$</span>text)                 <span class="co"># Minuscules</span></span>
<span id="cb28-4"><a href=""></a>review_clean<span class="sc">$</span>text <span class="ot">&lt;-</span> stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(review_clean<span class="sc">$</span>text, <span class="st">"!"</span>)          <span class="co"># Exclamations</span></span>
<span id="cb28-5"><a href=""></a>review_clean<span class="sc">$</span>text <span class="ot">&lt;-</span> stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(review_clean<span class="sc">$</span>text, <span class="st">"</span><span class="sc">\\</span><span class="st">."</span>)        <span class="co"># Points</span></span>
<span id="cb28-6"><a href=""></a>review_clean<span class="sc">$</span>text <span class="ot">&lt;-</span> stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(review_clean<span class="sc">$</span>text, <span class="st">","</span>)          <span class="co"># Virgules</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="columns">
<div class="column" style="width:100%;">
<blockquote>
<p>super good kebab the portions are generous the prices are really reasonable and the quality is there tasty meat fresh bread and everything is well seasoned an excellent address for a meal that is good without breaking the bank i recommend</p>
</blockquote>
</div>
</div>
</section>
<section id="étape-3-tokenisation" class="slide level2" data-transition="none">
<h2>Étape 3: Tokenisation</h2>
<div class="columns">
<div class="column" style="width:60%;">
<div class="sourceCode" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href=""></a>tokens <span class="ot">&lt;-</span> tidytext<span class="sc">::</span><span class="fu">unnest_tokens</span>(</span>
<span id="cb29-2"><a href=""></a>  review_clean,</span>
<span id="cb29-3"><a href=""></a>  <span class="at">output =</span> word,</span>
<span id="cb29-4"><a href=""></a>  <span class="at">input =</span> text</span>
<span id="cb29-5"><a href=""></a>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column" style="width:40%;">
<pre><code>r$&gt; head(tokens, 10)
       restaurant     word
1  La ligne rouge    super
2  La ligne rouge     good
3  La ligne rouge    kebab
4  La ligne rouge      the
5  La ligne rouge portions
6  La ligne rouge      are
7  La ligne rouge generous
8  La ligne rouge      the
9  La ligne rouge   prices
10 La ligne rouge      are</code></pre>
</div>
</div>
</section>
<section id="étape-4-retrait-des-mots-vides" class="slide level2" data-transition="none">
<h2>Étape 4: Retrait des mots vides</h2>
<div class="columns">
<div class="column" style="width:60%;">
<div class="sourceCode" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href=""></a><span class="co"># Obtenir les stop words</span></span>
<span id="cb31-2"><a href=""></a>stop_words <span class="ot">&lt;-</span> tidytext<span class="sc">::</span><span class="fu">get_stopwords</span>(<span class="at">language =</span> <span class="st">"en"</span>)</span>
<span id="cb31-3"><a href=""></a></span>
<span id="cb31-4"><a href=""></a><span class="co"># Retirer les stop words avec dplyr anti_join</span></span>
<span id="cb31-5"><a href=""></a>tokens_clean <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">anti_join</span>(</span>
<span id="cb31-6"><a href=""></a>  tokens, </span>
<span id="cb31-7"><a href=""></a>  stop_words,</span>
<span id="cb31-8"><a href=""></a>  <span class="at">by =</span> <span class="st">"word"</span></span>
<span id="cb31-9"><a href=""></a>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column" style="width:40%;">
<pre><code>r$&gt; head(tokens_clean, 10)
       restaurant       word
1  La ligne rouge      super
2  La ligne rouge       good
3  La ligne rouge      kebab
4  La ligne rouge   portions
5  La ligne rouge   generous
6  La ligne rouge     prices
7  La ligne rouge     really
8  La ligne rouge reasonable
9  La ligne rouge    quality
10 La ligne rouge      tasty</code></pre>
</div>
</div>
</section>
<section id="étape-5-analyse-de-sentiment-afinn" class="slide level2" data-transition="none">
<h2>Étape 5: Analyse de sentiment (AFINN)</h2>
<div class="columns">
<div class="column" style="width:70%;">
<div class="sourceCode" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href=""></a><span class="co"># Obtenir le lexique AFINN</span></span>
<span id="cb33-2"><a href=""></a>afinn <span class="ot">&lt;-</span> tidytext<span class="sc">::</span><span class="fu">get_sentiments</span>(<span class="st">"afinn"</span>)</span>
<span id="cb33-3"><a href=""></a></span>
<span id="cb33-4"><a href=""></a><span class="co"># Joindre avec nos tokens</span></span>
<span id="cb33-5"><a href=""></a>sentiment_scores <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">inner_join</span>(</span>
<span id="cb33-6"><a href=""></a>  tokens_clean,</span>
<span id="cb33-7"><a href=""></a>  afinn,</span>
<span id="cb33-8"><a href=""></a>  <span class="at">by =</span> <span class="st">"word"</span></span>
<span id="cb33-9"><a href=""></a>)</span>
<span id="cb33-10"><a href=""></a></span>
<span id="cb33-11"><a href=""></a><span class="co"># Voir les scores</span></span>
<span id="cb33-12"><a href=""></a>arranged_scores <span class="ot">&lt;-</span> sentiment_scores <span class="sc">%&gt;%</span></span>
<span id="cb33-13"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(word, value) <span class="sc">%&gt;%</span></span>
<span id="cb33-14"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(dplyr<span class="sc">::</span><span class="fu">desc</span>(value))</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column" style="width:30%;">
<pre><code>r$&gt; head(arranged_scores, 10)
       word value
1     super     3
2      good     3
3 excellent     3
4      good     3
5  generous     2
6 recommend     2
7     fresh     1</code></pre>
</div>
</div>
</section>
<section id="étape-6-score-total" class="slide level2" data-transition="none">
<h2>Étape 6: Score total</h2>
<div class="sourceCode" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href=""></a>total_sentiment <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">summarise</span>(</span>
<span id="cb35-2"><a href=""></a>  sentiment_scores,</span>
<span id="cb35-3"><a href=""></a>  <span class="at">n_words =</span> dplyr<span class="sc">::</span><span class="fu">n</span>(),</span>
<span id="cb35-4"><a href=""></a>  <span class="at">total_score =</span> <span class="fu">sum</span>(value),</span>
<span id="cb35-5"><a href=""></a>  <span class="at">avg_score =</span> <span class="fu">mean</span>(value)</span>
<span id="cb35-6"><a href=""></a>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>r$&gt; total_sentiment
  n_words total_score avg_score
1       7          17  2.428571</code></pre>
</section>
<section id="avec-plusieurs-textes" class="slide level2 smaller" data-transition="none">
<h2>Avec plusieurs textes</h2>
<blockquote>
<p>Nothing exceptional, just edible. I had good feedback about the food and I was very, very disappointed. Not to mention cash only which for me is unacceptable. Too many good restaurants in the neighborhood, I won’t go back there</p>
</blockquote>
<blockquote>
<p>Food is good and price is ok. The only issu is the attitude of the staff. The lady at he cash register and the guy that takes the orders seriously lack client service skills. Both are very rude. Hygiene is another issue, there are flies all over the place. In addition to all this, they only take cash.</p>
</blockquote>
<div class="sourceCode" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href=""></a><span class="co"># Créer un data.frame avec plusieurs reviews</span></span>
<span id="cb37-2"><a href=""></a>reviews <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb37-3"><a href=""></a>  <span class="at">restaurant =</span> <span class="st">"La ligne rouge"</span>,</span>
<span id="cb37-4"><a href=""></a>  <span class="at">text =</span> <span class="fu">c</span>(</span>
<span id="cb37-5"><a href=""></a>    <span class="st">"Super good kebab! The portions are generous, the prices are really reasonable, and the quality is there. Tasty meat, fresh bread, and everything is well seasoned. An excellent address for a meal that is good without breaking the bank. I recommend!"</span>,</span>
<span id="cb37-6"><a href=""></a>    <span class="st">"Nothing exceptional, just edible. I had good feedback about the food and I was very, very disappointed. Not to mention cash only which for me is unacceptable. Too many good restaurants in the neighborhood, I won't go back there"</span>,</span>
<span id="cb37-7"><a href=""></a>    <span class="st">"Food is good and price is ok. The only issu is the attitude of the staff. The lady at he cash register and the guy that takes the orders seriously lack client service skills. Both are very rude. Hygiene is another issue, there are flies all over the place. In addition to all this, they only take cash."</span></span>
<span id="cb37-8"><a href=""></a>  ),</span>
<span id="cb37-9"><a href=""></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb37-10"><a href=""></a>) <span class="sc">%&gt;%</span></span>
<span id="cb37-11"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(.))</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="nettoyage-des-multiples-textes" class="slide level2" data-transition="none">
<h2>Nettoyage des multiples textes</h2>
<div class="sourceCode" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href=""></a>reviews_clean <span class="ot">&lt;-</span> reviews</span>
<span id="cb38-2"><a href=""></a>reviews_clean<span class="sc">$</span>text <span class="ot">&lt;-</span> stringr<span class="sc">::</span><span class="fu">str_to_lower</span>(reviews_clean<span class="sc">$</span>text)                 <span class="co"># Minuscules</span></span>
<span id="cb38-3"><a href=""></a>reviews_clean<span class="sc">$</span>text <span class="ot">&lt;-</span> stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(reviews_clean<span class="sc">$</span>text, <span class="st">"!"</span>)          <span class="co"># Exclamations</span></span>
<span id="cb38-4"><a href=""></a>reviews_clean<span class="sc">$</span>text <span class="ot">&lt;-</span> stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(reviews_clean<span class="sc">$</span>text, <span class="st">"</span><span class="sc">\\</span><span class="st">."</span>)        <span class="co"># Points</span></span>
<span id="cb38-5"><a href=""></a>reviews_clean<span class="sc">$</span>text <span class="ot">&lt;-</span> stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(reviews_clean<span class="sc">$</span>text, <span class="st">","</span>)          <span class="co"># Virgules</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="étape-3-tokenisation-1" class="slide level2" data-transition="none">
<h2>Étape 3: Tokenisation</h2>
<div class="columns">
<div class="column" style="width:60%;">
<div class="sourceCode" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href=""></a>tokens <span class="ot">&lt;-</span> tidytext<span class="sc">::</span><span class="fu">unnest_tokens</span>(</span>
<span id="cb39-2"><a href=""></a>  reviews_clean,</span>
<span id="cb39-3"><a href=""></a>  <span class="at">output =</span> word,</span>
<span id="cb39-4"><a href=""></a>  <span class="at">input =</span> text</span>
<span id="cb39-5"><a href=""></a>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column" style="width:40%;">
<pre><code>r$&gt; head(tokens, 10)
       restaurant id     word
1  La ligne rouge  1    super
2  La ligne rouge  1     good
3  La ligne rouge  1    kebab
4  La ligne rouge  1      the
5  La ligne rouge  1 portions
6  La ligne rouge  1      are
7  La ligne rouge  1 generous
8  La ligne rouge  1      the
9  La ligne rouge  1   prices
10 La ligne rouge  1      are</code></pre>
</div>
</div>
</section>
<section id="étape-4-retrait-des-mots-vides-1" class="slide level2" data-transition="none">
<h2>Étape 4: Retrait des mots vides</h2>
<div class="columns">
<div class="column" style="width:60%;">
<div class="sourceCode" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href=""></a><span class="co"># Obtenir les stop words</span></span>
<span id="cb41-2"><a href=""></a>stop_words <span class="ot">&lt;-</span> tidytext<span class="sc">::</span><span class="fu">get_stopwords</span>(<span class="at">language =</span> <span class="st">"en"</span>)</span>
<span id="cb41-3"><a href=""></a></span>
<span id="cb41-4"><a href=""></a><span class="co"># Retirer les stop words avec dplyr anti_join</span></span>
<span id="cb41-5"><a href=""></a>tokens_clean <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">anti_join</span>(</span>
<span id="cb41-6"><a href=""></a>  tokens, </span>
<span id="cb41-7"><a href=""></a>  stop_words,</span>
<span id="cb41-8"><a href=""></a>  <span class="at">by =</span> <span class="st">"word"</span></span>
<span id="cb41-9"><a href=""></a>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column" style="width:40%;">
<pre><code>r$&gt; head(tokens_clean, 10)
       restaurant id       word
1  La ligne rouge  1      super
2  La ligne rouge  1       good
3  La ligne rouge  1      kebab
4  La ligne rouge  1   portions
5  La ligne rouge  1   generous
6  La ligne rouge  1     prices
7  La ligne rouge  1     really
8  La ligne rouge  1 reasonable
9  La ligne rouge  1    quality
10 La ligne rouge  1      tasty</code></pre>
</div>
</div>
</section>
<section id="étape-5-analyse-de-sentiment-afinn-1" class="slide level2" data-transition="none">
<h2>Étape 5: Analyse de sentiment (AFINN)</h2>
<div class="columns">
<div class="column" style="width:60%;">
<div class="sourceCode" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href=""></a><span class="co"># Obtenir le lexique AFINN</span></span>
<span id="cb43-2"><a href=""></a>afinn <span class="ot">&lt;-</span> tidytext<span class="sc">::</span><span class="fu">get_sentiments</span>(<span class="st">"afinn"</span>)</span>
<span id="cb43-3"><a href=""></a></span>
<span id="cb43-4"><a href=""></a><span class="co"># Joindre avec nos tokens</span></span>
<span id="cb43-5"><a href=""></a>sentiment_scores <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">inner_join</span>(</span>
<span id="cb43-6"><a href=""></a>  tokens_clean,</span>
<span id="cb43-7"><a href=""></a>  afinn,</span>
<span id="cb43-8"><a href=""></a>  <span class="at">by =</span> <span class="st">"word"</span></span>
<span id="cb43-9"><a href=""></a>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column" style="width:55%;">
<pre><code>r$&gt; head(sentiment_scores, 10)
       restaurant id         word value
1  La ligne rouge  1        super     3
2  La ligne rouge  1         good     3
3  La ligne rouge  1     generous     2
4  La ligne rouge  1        fresh     1
5  La ligne rouge  1    excellent     3
6  La ligne rouge  1         good     3
7  La ligne rouge  1    recommend     2
8  La ligne rouge  2         good     3
9  La ligne rouge  2 disappointed    -2
10 La ligne rouge  2 unacceptable    -2</code></pre>
</div>
</div>
</section>
<section id="étape-6-score-total-1" class="slide level2 smaller" data-transition="none">
<h2>Étape 6: Score total</h2>
<div class="sourceCode" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href=""></a><span class="co"># Calculate summary statistics per review</span></span>
<span id="cb45-2"><a href=""></a>sentiment_summary <span class="ot">&lt;-</span> sentiment_scores <span class="sc">%&gt;%</span></span>
<span id="cb45-3"><a href=""></a>  <span class="fu">group_by</span>(id, restaurant) <span class="sc">%&gt;%</span></span>
<span id="cb45-4"><a href=""></a>  <span class="fu">summarise</span>(</span>
<span id="cb45-5"><a href=""></a>    <span class="at">total_sentiment =</span> <span class="fu">sum</span>(value),            <span class="co"># Sum of all sentiment scores</span></span>
<span id="cb45-6"><a href=""></a>    <span class="at">mean_sentiment =</span> <span class="fu">mean</span>(value),            <span class="co"># Average sentiment</span></span>
<span id="cb45-7"><a href=""></a>    <span class="at">word_count =</span> <span class="fu">n</span>(),                        <span class="co"># Number of sentiment words</span></span>
<span id="cb45-8"><a href=""></a>    <span class="at">min_sentiment =</span> <span class="fu">min</span>(value),              <span class="co"># Most negative word</span></span>
<span id="cb45-9"><a href=""></a>    <span class="at">max_sentiment =</span> <span class="fu">max</span>(value)               <span class="co"># Most positive word</span></span>
<span id="cb45-10"><a href=""></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb45-11"><a href=""></a>  <span class="fu">ungroup</span>()</span>
<span id="cb45-12"><a href=""></a></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<h3 id="voici-les-résultats">Voici les résultats</h3>
<pre><code>r$&gt; print(sentiment_summary)
# A tibble: 3 × 7
     id restaurant     total_sentiment mean_sentiment word_count min_sentiment max_sentiment
  &lt;int&gt; &lt;chr&gt;                    &lt;dbl&gt;          &lt;dbl&gt;      &lt;int&gt;         &lt;dbl&gt;         &lt;dbl&gt;
1     1 La ligne rouge              17           2.43          7             1             3
2     2 La ligne rouge               2           0.5           4            -2             3
3     3 La ligne rouge               1           0.5           2            -2             3</code></pre>
</section>
<section id="réassembler-les-données" class="slide level2 smaller" data-transition="none">
<h2>Réassembler les données</h2>
<div class="sourceCode" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href=""></a><span class="co"># First, let's create a dataframe with just id and text</span></span>
<span id="cb47-2"><a href=""></a>original_texts <span class="ot">&lt;-</span> reviews <span class="sc">%&gt;%</span></span>
<span id="cb47-3"><a href=""></a>  <span class="fu">select</span>(id, text)</span>
<span id="cb47-4"><a href=""></a></span>
<span id="cb47-5"><a href=""></a><span class="co"># Then merge it with your sentiment summary</span></span>
<span id="cb47-6"><a href=""></a>sentiment_summary_with_text <span class="ot">&lt;-</span> sentiment_summary <span class="sc">%&gt;%</span></span>
<span id="cb47-7"><a href=""></a>  <span class="fu">left_join</span>(original_texts, <span class="at">by =</span> <span class="st">"id"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<h3 id="en-réunissant-le-text-original-avec-les-analyses">En réunissant le text original avec les analyses:</h3>
<pre><code>r$&gt; sentiment_summary_with_text
# A tibble: 3 × 8
     id restaurant     total_sentiment mean_sentiment word_count min_sentiment max_sentiment text                                                   
  &lt;int&gt; &lt;chr&gt;                    &lt;dbl&gt;          &lt;dbl&gt;      &lt;int&gt;         &lt;dbl&gt;         &lt;dbl&gt; &lt;chr&gt;                                                  
1     1 La ligne rouge              17           2.43          7             1             3 Super good kebab! [...]
2     2 La ligne rouge               2           0.5           4            -2             3 Nothing exceptional [...]
3     3 La ligne rouge               1           0.5           2            -2             3 Food is good and price is ok. [...]
</code></pre>
</section>
<section id="lexicoder-lsd" class="slide level2" data-transition="none">
<h2>Lexicoder (LSD)</h2>
<ul>
<li>Spécialisé pour textes politiques</li>
<li>Gestion avancée des négations</li>
<li>Validation académique extensive</li>
<li>Plus précis pour l’analyse politique</li>
</ul>
</section>
<section id="pourquoi-lsd-pour-la-science-politique" class="slide level2 smaller" data-transition="none">
<h2>Pourquoi LSD pour la science politique?</h2>
<ol type="1">
<li><strong>Contexte politique</strong>
<ul>
<li>Vocabulaire politique spécifique</li>
<li>Expressions complexes</li>
<li>Nuances importantes</li>
</ul></li>
<li><strong>Gestion des négations</strong>
<ul>
<li>“not bad” ≠ “bad”</li>
<li>“no support” vs “support”</li>
</ul></li>
<li><strong>Validation scientifique</strong>
<ul>
<li>Testé sur des textes politiques</li>
<li>Utilisé dans des publications majeures</li>
<li>Benchmark en science politique</li>
</ul></li>
</ol>
</section>
<section id="étape-1-préparation-des-données-pour-lsd" class="slide level2" data-transition="none">
<h2>Étape 1 : Préparation des données pour LSD</h2>
<div class="sourceCode" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href=""></a><span class="fu">library</span>(quanteda)</span>
<span id="cb49-2"><a href=""></a><span class="fu">library</span>(pbapply)</span>
<span id="cb49-3"><a href=""></a><span class="fu">library</span>(dplyr)</span>
<span id="cb49-4"><a href=""></a><span class="fu">library</span>(tidytext)</span>
<span id="cb49-5"><a href=""></a><span class="fu">library</span>(stringr)</span>
<span id="cb49-6"><a href=""></a></span>
<span id="cb49-7"><a href=""></a><span class="fu">source</span>(<span class="st">"R/lsd_prep_functions.R"</span>)</span>
<span id="cb49-8"><a href=""></a></span>
<span id="cb49-9"><a href=""></a><span class="co"># Charger les exemples de reviews de restaurants</span></span>
<span id="cb49-10"><a href=""></a>reviews <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb49-11"><a href=""></a>  <span class="at">restaurant =</span> <span class="st">"La ligne rouge"</span>,</span>
<span id="cb49-12"><a href=""></a>  <span class="at">text =</span> <span class="fu">c</span>(</span>
<span id="cb49-13"><a href=""></a>    <span class="st">"Super good kebab! The portions are generous, the prices are really reasonable, and the quality is there. Tasty meat, fresh bread, and everything is well seasoned. An excellent address for a meal that is good without breaking the bank. I recommend!"</span>,</span>
<span id="cb49-14"><a href=""></a>    <span class="st">"Nothing exceptional, just edible. I had good feedback about the food and I was very, very disappointed. Not to mention cash only which for me is unacceptable. Too many good restaurants in the neighborhood, I won't go back there"</span>,</span>
<span id="cb49-15"><a href=""></a>    <span class="st">"Food is good and price is ok. The only issu is the attitude of the staff. The lady at he cash register and the guy that takes the orders seriously lack client service skills. Both are very rude. Hygiene is another issue, there are flies all over the place. In addition to all this, they only take cash."</span></span>
<span id="cb49-16"><a href=""></a>  ),</span>
<span id="cb49-17"><a href=""></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb49-18"><a href=""></a>) <span class="sc">%&gt;%</span></span>
<span id="cb49-19"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(.))</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="étape-2-division-en-phrases" class="slide level2 smaller" data-transition="none">
<h2>Étape 2 : Division en phrases</h2>
<div class="sourceCode" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href=""></a><span class="co"># Diviser en phrases et créer ID unique</span></span>
<span id="cb50-2"><a href=""></a>reviews_sentences <span class="ot">&lt;-</span> reviews <span class="sc">%&gt;%</span></span>
<span id="cb50-3"><a href=""></a>  tidytext<span class="sc">::</span><span class="fu">unnest_sentences</span>(text, text) <span class="sc">%&gt;%</span></span>
<span id="cb50-4"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">id_sentence =</span> <span class="fu">row_number</span>())</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="prétraitement-lsd-fonctionnalités" class="slide level2 smaller" data-transition="none">
<h2>Prétraitement LSD : Fonctionnalités</h2>
<ol type="1">
<li><strong>Ordre des fonctions</strong>
<ul>
<li>L’ordre d’application est important</li>
<li>Chaque fonction a un rôle spécifique</li>
</ul></li>
<li><strong>Fonctions spéciales</strong>
<ul>
<li>LSDprep_contr : Gère les contractions (don’t → do not)</li>
<li>LSDprep_negation : Traite les négations</li>
<li>mark_proper_nouns : Identifie les noms propres</li>
</ul></li>
<li><strong>Avantages</strong>
<ul>
<li>Prétraitement standardisé</li>
<li>Meilleure gestion des négations</li>
<li>Plus précis pour l’analyse de sentiment</li>
</ul></li>
</ol>
</section>
<section id="étape-3-application-des-fonctions-de-préparation" class="slide level2" data-transition="none">
<h2>Étape 3 : Application des fonctions de préparation</h2>
<div class="sourceCode" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href=""></a><span class="co"># Application séquentielle des fonctions de préparation LSD</span></span>
<span id="cb51-2"><a href=""></a>reviews_sentences<span class="sc">$</span>text_prepped <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb51-3"><a href=""></a>reviews_sentences<span class="sc">$</span>text_prepped <span class="ot">&lt;-</span> pbapply<span class="sc">::</span><span class="fu">pbsapply</span>(reviews_sentences<span class="sc">$</span>text, LSDprep_contr)</span>
<span id="cb51-4"><a href=""></a>reviews_sentences<span class="sc">$</span>text_prepped <span class="ot">&lt;-</span> pbapply<span class="sc">::</span><span class="fu">pbsapply</span>(reviews_sentences<span class="sc">$</span>text_prepped, LSDprep_dict_punct)</span>
<span id="cb51-5"><a href=""></a>reviews_sentences<span class="sc">$</span>text_prepped <span class="ot">&lt;-</span> pbapply<span class="sc">::</span><span class="fu">pbsapply</span>(reviews_sentences<span class="sc">$</span>text_prepped, remove_punctuation_from_acronyms)</span>
<span id="cb51-6"><a href=""></a>reviews_sentences<span class="sc">$</span>text_prepped <span class="ot">&lt;-</span> pbapply<span class="sc">::</span><span class="fu">pbsapply</span>(reviews_sentences<span class="sc">$</span>text_prepped, remove_punctuation_from_abbreviations)</span>
<span id="cb51-7"><a href=""></a>reviews_sentences<span class="sc">$</span>text_prepped <span class="ot">&lt;-</span> pbapply<span class="sc">::</span><span class="fu">pbsapply</span>(reviews_sentences<span class="sc">$</span>text_prepped, LSDprep_punctspace)</span>
<span id="cb51-8"><a href=""></a>reviews_sentences<span class="sc">$</span>text_prepped <span class="ot">&lt;-</span> pbapply<span class="sc">::</span><span class="fu">pbsapply</span>(reviews_sentences<span class="sc">$</span>text_prepped, LSDprep_negation)</span>
<span id="cb51-9"><a href=""></a>reviews_sentences<span class="sc">$</span>text_prepped <span class="ot">&lt;-</span> pbapply<span class="sc">::</span><span class="fu">pbsapply</span>(reviews_sentences<span class="sc">$</span>text_prepped, LSDprep_dict)</span>
<span id="cb51-10"><a href=""></a>reviews_sentences<span class="sc">$</span>text_prepped <span class="ot">&lt;-</span> pbapply<span class="sc">::</span><span class="fu">pbsapply</span>(reviews_sentences<span class="sc">$</span>text_prepped, mark_proper_nouns)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="étape-3-application-des-fonctions-de-préparation-1" class="slide level2" data-transition="none">
<h2>Étape 3 : Application des fonctions de préparation</h2>
<h4 id="avant">Avant</h4>
<div class="sourceCode" id="cb52"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb52-1"><a href=""></a>nothing exceptional, just edible.</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<h4 id="après">Après</h4>
<div class="sourceCode" id="cb53"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb53-1"><a href=""></a>(nothing) not exceptional , just edible .</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="étape-4-création-du-corpus-et-tokenisation" class="slide level2" data-transition="none">
<h2>Étape 4 : Création du corpus et tokenisation</h2>
<div class="sourceCode" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href=""></a><span class="co"># Convertir en dataframe (pour s'assurer du type)</span></span>
<span id="cb54-2"><a href=""></a>reviews_sentences <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(reviews_sentences)</span>
<span id="cb54-3"><a href=""></a></span>
<span id="cb54-4"><a href=""></a><span class="co"># Création du corpus et tokenisation</span></span>
<span id="cb54-5"><a href=""></a>corpus_text <span class="ot">&lt;-</span> quanteda<span class="sc">::</span><span class="fu">tokens</span>(reviews_sentences<span class="sc">$</span>text_prepped)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>r$&gt; head(corpus_text)
Tokens consisting of 6 documents.
text1 :
[1] "super" "good"  "kebab" "!"    

text2 :
 [1] "the"        "portions"   "are"        "generous"   ","          "the"       
 [7] "prices"     "are"        "really"     "reasonable" ","          "and"       
[ ... and 5 more ]

text3 :
 [1] "tasty"      "meat"       ","          "fresh"      "bread"      ","         
 [7] "and"        "everything" "is"         "well"       "seasoned"   "."         </code></pre>
</section>
<section id="étape-5-application-du-dictionnaire-lsd" class="slide level2" data-transition="none">
<h2>Étape 5 : Application du dictionnaire LSD</h2>
<div class="sourceCode" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href=""></a><span class="co"># Application du dictionnaire LSD pour l'analyse de sentiment</span></span>
<span id="cb56-2"><a href=""></a>matrice_sentiment <span class="ot">&lt;-</span> quanteda<span class="sc">::</span><span class="fu">dfm</span>(</span>
<span id="cb56-3"><a href=""></a>  quanteda<span class="sc">::</span><span class="fu">tokens_lookup</span>(corpus_text, data_dictionary_LSD2015, <span class="at">nested_scope =</span> <span class="st">"dictionary"</span>)</span>
<span id="cb56-4"><a href=""></a>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>r$&gt; print(matrice_sentiment)
Document-feature matrix of: 15 documents, 4 features (76.67% sparse) and 0 docvars.
       features
docs    negative positive neg_positive neg_negative
  text1        0        2            0            0
  text2        0        3            0            0
  text3        0        2            0            0
  text4        0        2            0            1
  text5        0        0            0            0
  text6        0        0            1            0
[ reached max_ndoc ... 9 more documents ]</code></pre>
</section>
<section id="étape-6-calcul-des-scores-de-sentiment" class="slide level2" data-transition="none">
<h2>Étape 6 : Calcul des scores de sentiment</h2>
<div class="sourceCode" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href=""></a><span class="co"># Conversion de la matrice de fréquence des termes en dataframe</span></span>
<span id="cb58-2"><a href=""></a>resultats_sentiment <span class="ot">&lt;-</span> quanteda<span class="sc">::</span><span class="fu">convert</span>(matrice_sentiment, <span class="at">to =</span> <span class="st">"data.frame"</span>)</span>
<span id="cb58-3"><a href=""></a></span>
<span id="cb58-4"><a href=""></a><span class="co"># Combinaison des résultats de sentiment avec les données originales</span></span>
<span id="cb58-5"><a href=""></a>articles_sentiment <span class="ot">&lt;-</span> <span class="fu">cbind</span>(reviews_sentences, resultats_sentiment)</span>
<span id="cb58-6"><a href=""></a></span>
<span id="cb58-7"><a href=""></a><span class="co"># Calcul des métriques de sentiment</span></span>
<span id="cb58-8"><a href=""></a>articles_sentiment <span class="ot">&lt;-</span> articles_sentiment <span class="sc">%&gt;%</span></span>
<span id="cb58-9"><a href=""></a>  <span class="fu">mutate</span>(</span>
<span id="cb58-10"><a href=""></a>    <span class="at">total_words =</span> <span class="fu">str_count</span>(text_prepped, <span class="st">"</span><span class="sc">\\</span><span class="st">S+"</span>),</span>
<span id="cb58-11"><a href=""></a>    <span class="co"># Calcul des proportions de termes positifs et négatifs</span></span>
<span id="cb58-12"><a href=""></a>    <span class="at">proportion_positive =</span> (positive <span class="sc">+</span> neg_negative) <span class="sc">/</span> total_words,</span>
<span id="cb58-13"><a href=""></a>    <span class="at">proportion_negative =</span> (negative <span class="sc">+</span> neg_positive) <span class="sc">/</span> total_words,</span>
<span id="cb58-14"><a href=""></a>    <span class="at">tone_index =</span> proportion_positive <span class="sc">-</span> proportion_negative</span>
<span id="cb58-15"><a href=""></a>  )</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="étape-6-calcul-des-scores-de-sentiment-1" class="slide level2" data-transition="none">
<h2>Étape 6 : Calcul des scores de sentiment</h2>
<table>
<thead>
<tr class="header">
<th>doc_id</th>
<th>positive</th>
<th>negative</th>
<th>neg_pos</th>
<th>neg_neg</th>
<th>tone_index</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>text1</td>
<td>2</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0.500</td>
</tr>
<tr class="even">
<td>text2</td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0.176</td>
</tr>
<tr class="odd">
<td>text3</td>
<td>2</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0.167</td>
</tr>
<tr class="even">
<td>text4</td>
<td>2</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0.200</td>
</tr>
<tr class="odd">
<td>text5</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0.000</td>
</tr>
<tr class="even">
<td>text6</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>-0.143</td>
</tr>
</tbody>
</table>
</section>
<section id="étape-7-agrégation-et-interprétation-des-résultats" class="slide level2" data-transition="none">
<h2>Étape 7 : Agrégation et interprétation des résultats</h2>
<div class="sourceCode" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href=""></a><span class="co"># Agrégation des résultats par review (id)</span></span>
<span id="cb59-2"><a href=""></a>sentiment_par_review <span class="ot">&lt;-</span> articles_sentiment <span class="sc">%&gt;%</span></span>
<span id="cb59-3"><a href=""></a>  <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span></span>
<span id="cb59-4"><a href=""></a>  <span class="fu">summarise</span>(</span>
<span id="cb59-5"><a href=""></a>    <span class="at">text_original =</span> <span class="fu">first</span>(reviews<span class="sc">$</span>text[id]),     <span class="co"># Texte original complet</span></span>
<span id="cb59-6"><a href=""></a>    <span class="at">total_positive =</span> <span class="fu">sum</span>(positive),              <span class="co"># Somme des termes positifs</span></span>
<span id="cb59-7"><a href=""></a>    <span class="at">total_negative =</span> <span class="fu">sum</span>(negative),              <span class="co"># Somme des termes négatifs</span></span>
<span id="cb59-8"><a href=""></a>    <span class="at">total_neg_positive =</span> <span class="fu">sum</span>(neg_positive),      <span class="co"># Somme des négations de termes positifs</span></span>
<span id="cb59-9"><a href=""></a>    <span class="at">total_neg_negative =</span> <span class="fu">sum</span>(neg_negative),      <span class="co"># Somme des négations de termes négatifs</span></span>
<span id="cb59-10"><a href=""></a>    <span class="at">total_words =</span> <span class="fu">sum</span>(total_words),              <span class="co"># Nombre total de mots</span></span>
<span id="cb59-11"><a href=""></a>    <span class="co"># Calcul des proportions globales</span></span>
<span id="cb59-12"><a href=""></a>    <span class="at">proportion_positive =</span> <span class="fu">sum</span>(positive) <span class="sc">/</span> <span class="fu">sum</span>(total_words),</span>
<span id="cb59-13"><a href=""></a>    <span class="at">proportion_negative =</span> <span class="fu">sum</span>(negative) <span class="sc">/</span> <span class="fu">sum</span>(total_words),</span>
<span id="cb59-14"><a href=""></a>    <span class="co"># Indice de ton global normalisé</span></span>
<span id="cb59-15"><a href=""></a>    <span class="at">tone_index =</span> (<span class="fu">sum</span>(positive) <span class="sc">-</span> <span class="fu">sum</span>(negative)) <span class="sc">/</span> (<span class="fu">sum</span>(positive) <span class="sc">+</span> <span class="fu">sum</span>(negative)),</span>
<span id="cb59-16"><a href=""></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb59-17"><a href=""></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb59-18"><a href=""></a>  <span class="fu">select</span>(id, text_original, tone_index)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="comparaison-des-scores-de-sentiment" class="slide level2" data-transition="none">
<h2>Comparaison des scores de sentiment</h2>
<div style="display: flex; justify-content: space-around; margin-top: 20px;">
<div>
<h3>
Scores par review
</h3>
<table style="border-collapse: collapse; width: 100%;">
<tbody><tr style="border-bottom: 2px solid #ddd; background-color: #f5f5f5;">
<th style="padding: 8px; text-align: left;">
Review
</th>
<th style="padding: 8px; text-align: center;">
Positif
</th>
<th style="padding: 8px; text-align: center;">
Négatif
</th>
<th style="padding: 8px; text-align: center;">
Score final
</th>
</tr>
<tr style="border-bottom: 1px solid #ddd;">
<td style="padding: 8px;">
Review #1
</td>
<td style="padding: 8px; text-align: center; color: green;">
9
</td>
<td style="padding: 8px; text-align: center; color: red;">
0
</td>
<td style="padding: 8px; text-align: center; font-weight: bold; color: green;">
+1.0
</td>
</tr>
<tr style="border-bottom: 1px solid #ddd;">
<td style="padding: 8px;">
Review #2
</td>
<td style="padding: 8px; text-align: center; color: green;">
2
</td>
<td style="padding: 8px; text-align: center; color: red;">
3
</td>
<td style="padding: 8px; text-align: center; font-weight: bold; color: red;">
-0.2
</td>
</tr>
<tr style="border-bottom: 1px solid #ddd;">
<td style="padding: 8px;">
Review #3
</td>
<td style="padding: 8px; text-align: center; color: green;">
2
</td>
<td style="padding: 8px; text-align: center; color: red;">
2
</td>
<td style="padding: 8px; text-align: center; font-weight: bold; color: gray;">
0.0
</td>
</tr>
</tbody></table>
</div>
</div>
</section>
<section id="conseils-pratiques" class="slide level2">
<h2>Conseils pratiques</h2>
<ol type="1">
<li><strong>Validation</strong>
<ul>
<li>Vérifier manuellement les résultats</li>
<li>Comparer les dictionnaires</li>
<li>Documenter les choix méthodologiques</li>
</ul></li>
<li><strong>Limites</strong>
<ul>
<li>Aucun dictionnaire n’est parfait</li>
<li>Contexte est toujours important</li>
<li>Valider avec analyses qualitatives</li>
</ul></li>
</ol>
</section>
<section id="quel-lexique-choisir" class="slide level2 smaller">
<h2>Quel lexique choisir?</h2>
<table>
<colgroup>
<col style="width: 14%">
<col style="width: 23%">
<col style="width: 14%">
<col style="width: 29%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>Lexique</th>
<th>Type de score</th>
<th>Forces</th>
<th>Utilisation idéale</th>
<th>Discipline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>AFINN</td>
<td>-5 à +5</td>
<td>Nuancé, simple</td>
<td>Médias sociaux, avis</td>
<td>Marketing</td>
</tr>
<tr class="even">
<td>BING</td>
<td>Pos/Neg</td>
<td>Simple, précis</td>
<td>Analyses générales</td>
<td>Sciences sociales</td>
</tr>
<tr class="odd">
<td>NRC</td>
<td>8 émotions</td>
<td>Riche en contexte</td>
<td>Analyse émotionnelle</td>
<td>Psychologie</td>
</tr>
<tr class="even">
<td>Lexicoder</td>
<td>Binaire + thèmes</td>
<td>Validé académiquement</td>
<td>Discours politiques</td>
<td>Science politique</td>
</tr>
<tr class="odd">
<td>VADER</td>
<td>-1 à +1</td>
<td>Gère emojis/web</td>
<td>Médias sociaux</td>
<td>Communications</td>
</tr>
</tbody>
</table>
</section>
<section id="lda-allocation-de-dirichlet-latente" class="slide level2" data-transition="none">
<h2>LDA : Allocation de Dirichlet Latente</h2>
<div class="columns">
<div class="column" style="width:60%;">
<h3 id="quest-ce-que-cest">Qu’est-ce que c’est?</h3>
<ul>
<li>Une méthode pour <strong>découvrir automatiquement</strong> des thèmes dans une collection de textes</li>
<li>Développée en 2003 (Blei, Ng, Jordan)</li>
<li><strong>Apprentissage non supervisé</strong> : l’algorithme découvre seul les structures</li>
</ul>
</div><div class="column" style="width:40%;">
<p><img data-src="https://www.cs.columbia.edu/~blei/blei-hi-res.jpg"></p>
</div>
</div>
</section>
<section id="lintuition-derrière-lda" class="slide level2" data-transition="none">
<h2>L’intuition derrière LDA</h2>
<h3 id="lidée-centrale">L’idée centrale</h3>
<ul>
<li>Chaque <strong>document</strong> contient plusieurs <strong>sujets</strong></li>
<li>Chaque <strong>sujet</strong> est une collection de <strong>mots</strong> liés</li>
<li>Les mots apparaissent avec différentes <strong>probabilités</strong> dans chaque sujet</li>
</ul>
</section>
<section id="comment-fonctionne-lda" class="slide level2" data-transition="fade">
<h2>Comment fonctionne LDA?</h2>
<h3 id="approche-non-supervisée">Approche non supervisée</h3>
<ol type="1">
<li><strong>Aucune connaissance préalable</strong>
<ul>
<li>Pas de liste de mots prédéfinie</li>
<li>Pas d’étiquettes nécessaires</li>
</ul></li>
<li><strong>Découverte automatique</strong>
<ul>
<li>Les relations entre mots émergent des données</li>
<li>Les thèmes se forment naturellement</li>
</ul></li>
</ol>
</section>
<section id="le-processus-en-pratique" class="slide level2" data-transition="none">
<h2>Le processus en pratique</h2>
<h3 id="étapes-simplifiées">Étapes simplifiées</h3>
<ol type="1">
<li>Transformer les textes en chiffres</li>
<li>Commencer par des assignations aléatoires</li>
<li>Répéter des milliers de fois:
<ul>
<li>Pour chaque mot: quel sujet est le plus probable?</li>
<li>Mettre à jour les distributions</li>
</ul></li>
<li>Aboutir à des groupes cohérents</li>
</ol>
</section>
<section id="avantages-pour-les-sciences-sociales" class="slide level2" data-transition="none">
<h2>Avantages pour les sciences sociales</h2>
<h3 id="pourquoi-utiliser-lda-en-sciences-sociales">Pourquoi utiliser LDA en sciences sociales?</h3>
<ol type="1">
<li><strong>Analyse de grandes quantités de texte</strong> (discours politiques, médias sociaux)</li>
<li><strong>Découverte objective de thèmes</strong> sans biais d’interprétation préalable</li>
<li><strong>Suivi de l’évolution des discours</strong> dans le temps</li>
<li><strong>Combinaison possible avec l’analyse de sentiment</strong></li>
</ol>
</section>
<section id="limites-à-connaître" class="slide level2" data-transition="none">
<h2>Limites à connaître</h2>
<h3 id="défis-du-lda">Défis du LDA</h3>
<ul>
<li>Nombre de sujets à définir à l’avance</li>
<li>Les sujets nécessitent une interprétation humaine</li>
<li>Besoin d’un volume suffisant de données</li>
</ul>
</section>
<section id="modélisation-de-sujets-topic-modeling" class="slide level2" data-transition="none">
<h2>Modélisation de sujets (Topic Modeling)</h2>
<div class="sourceCode" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href=""></a><span class="co"># Chargement des bibliothèques</span></span>
<span id="cb60-2"><a href=""></a><span class="fu">library</span>(tidytext)</span>
<span id="cb60-3"><a href=""></a><span class="fu">library</span>(tidyr)</span>
<span id="cb60-4"><a href=""></a><span class="fu">library</span>(dplyr)</span>
<span id="cb60-5"><a href=""></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb60-6"><a href=""></a><span class="fu">library</span>(topicmodels)</span>
<span id="cb60-7"><a href=""></a></span>
<span id="cb60-8"><a href=""></a><span class="co"># Charger les exemples de reviews de restaurants</span></span>
<span id="cb60-9"><a href=""></a>reviews <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb60-10"><a href=""></a>  <span class="at">restaurant =</span> <span class="st">"La ligne rouge"</span>,</span>
<span id="cb60-11"><a href=""></a>  <span class="at">text =</span> <span class="fu">c</span>(</span>
<span id="cb60-12"><a href=""></a>    <span class="st">"Super good kebab! The portions are generous, the prices are really reasonable, and the quality is there. Tasty meat, fresh bread, and everything is well seasoned. An excellent address for a meal that is good without breaking the bank. I recommend!"</span>,</span>
<span id="cb60-13"><a href=""></a>    <span class="st">"Nothing exceptional, just edible. I had good feedback about the food and I was very, very disappointed. Not to mention cash only which for me is unacceptable. Too many good restaurants in the neighborhood, I won't go back there"</span>,</span>
<span id="cb60-14"><a href=""></a>    <span class="st">"Food is good and price is ok. The only issu is the attitude of the staff. The lady at he cash register and the guy that takes the orders seriously lack client service skills. Both are very rude. Hygiene is another issue, there are flies all over the place. In addition to all this, they only take cash."</span></span>
<span id="cb60-15"><a href=""></a>  ),</span>
<span id="cb60-16"><a href=""></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb60-17"><a href=""></a>) <span class="sc">%&gt;%</span></span>
<span id="cb60-18"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(.))</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="préparation-des-données-pour-le-topic-modeling" class="slide level2" data-transition="none">
<h2>Préparation des données pour le topic modeling</h2>
<div class="sourceCode" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href=""></a><span class="co"># Tokenisation et nettoyage</span></span>
<span id="cb61-2"><a href=""></a>reviews_tokens <span class="ot">&lt;-</span> reviews <span class="sc">%&gt;%</span></span>
<span id="cb61-3"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">doc_id =</span> <span class="fu">paste0</span>(<span class="st">"doc_"</span>, id)) <span class="sc">%&gt;%</span></span>
<span id="cb61-4"><a href=""></a>  tidytext<span class="sc">::</span><span class="fu">unnest_tokens</span>(word, text) <span class="sc">%&gt;%</span></span>
<span id="cb61-5"><a href=""></a>  <span class="fu">anti_join</span>(stop_words) <span class="co"># Supprimer les mots vides</span></span>
<span id="cb61-6"><a href=""></a></span>
<span id="cb61-7"><a href=""></a><span class="co"># Voir les premiers tokens</span></span>
<span id="cb61-8"><a href=""></a><span class="fu">head</span>(reviews_tokens, <span class="dv">10</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="création-de-la-matrice-document-terme" class="slide level2" data-transition="none">
<h2>Création de la matrice document-terme</h2>
<div class="sourceCode" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href=""></a><span class="co"># Créer la matrice document-terme (DTM)</span></span>
<span id="cb62-2"><a href=""></a>reviews_dtm <span class="ot">&lt;-</span> reviews_tokens <span class="sc">%&gt;%</span></span>
<span id="cb62-3"><a href=""></a>  <span class="fu">count</span>(doc_id, word) <span class="sc">%&gt;%</span></span>
<span id="cb62-4"><a href=""></a>  <span class="fu">cast_dtm</span>(doc_id, word, n)</span>
<span id="cb62-5"><a href=""></a></span>
<span id="cb62-6"><a href=""></a><span class="co"># Afficher un aperçu de la matrice</span></span>
<span id="cb62-7"><a href=""></a>reviews_dtm</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>&lt;&lt;DocumentTermMatrix (documents: 3, terms: 71)&gt;&gt;
Non-/sparse entries: 77/136
Sparsity           : 64%
Maximal term length: 11
Weighting          : term frequency (tf)
Sample             :
      Terms
Docs   food good price quality
  doc_1    0    2     0       1
  doc_2    1    1     0       0
  doc_3    1    1     1       0</code></pre>
</section>
<section id="application-du-modèle-lda" class="slide level2" data-transition="none">
<h2>Application du modèle LDA</h2>
<div class="sourceCode" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href=""></a><span class="co"># Exécuter le modèle LDA</span></span>
<span id="cb64-2"><a href=""></a><span class="fu">set.seed</span>(<span class="dv">123</span>) <span class="co"># Pour la reproductibilité</span></span>
<span id="cb64-3"><a href=""></a>lda_model <span class="ot">&lt;-</span> <span class="fu">LDA</span>(reviews_dtm, <span class="at">k =</span> <span class="dv">2</span>, <span class="at">control =</span> <span class="fu">list</span>(<span class="at">seed =</span> <span class="dv">123</span>, <span class="at">verbose =</span> <span class="cn">TRUE</span>))</span>
<span id="cb64-4"><a href=""></a></span>
<span id="cb64-5"><a href=""></a><span class="co"># Examiner la distribution des sujets pour chaque document</span></span>
<span id="cb64-6"><a href=""></a>topics <span class="ot">&lt;-</span> <span class="fu">tidy</span>(lda_model, <span class="at">matrix =</span> <span class="st">"gamma"</span>)</span>
<span id="cb64-7"><a href=""></a>topics_wide <span class="ot">&lt;-</span> topics <span class="sc">%&gt;%</span></span>
<span id="cb64-8"><a href=""></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> topic, <span class="at">values_from =</span> gamma)</span>
<span id="cb64-9"><a href=""></a></span>
<span id="cb64-10"><a href=""></a><span class="fu">print</span>(topics_wide)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code># A tibble: 3 × 3
  document   `1`   `2`
  &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt;
1 doc_1    0.692 0.308
2 doc_2    0.333 0.667
3 doc_3    0.391 0.609</code></pre>
</section>
<section id="extraction-des-termes-principaux-pour-chaque-sujet" class="slide level2" data-transition="none">
<h2>Extraction des termes principaux pour chaque sujet</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="sourceCode" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href=""></a><span class="co"># Extraire les termes principaux de chaque sujet</span></span>
<span id="cb66-2"><a href=""></a>top_terms <span class="ot">&lt;-</span> <span class="fu">tidy</span>(lda_model, <span class="at">matrix =</span> <span class="st">"beta"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb66-3"><a href=""></a>  <span class="fu">group_by</span>(topic) <span class="sc">%&gt;%</span></span>
<span id="cb66-4"><a href=""></a>  <span class="fu">slice_max</span>(beta, <span class="at">n =</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb66-5"><a href=""></a>  <span class="fu">arrange</span>(topic, <span class="sc">-</span>beta)</span>
<span id="cb66-6"><a href=""></a></span>
<span id="cb66-7"><a href=""></a><span class="co"># Afficher les termes principaux pour chaque sujet</span></span>
<span id="cb66-8"><a href=""></a><span class="fu">print</span>(top_terms)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column" style="width:50%;">
<pre><code>r$&gt; print(top_terms)
# A tibble: 20 × 3
# Groups:   topic [2]
   topic term           beta
   &lt;int&gt; &lt;chr&gt;         &lt;dbl&gt;
 1     1 portions     0.0384
 2     1 hygiene      0.0381
 3     1 takes        0.0374
 4     1 seasoned     0.0366
 5     1 recommend    0.0364
 6     1 lady         0.0352
 7     1 disappointed 0.0334
 8     1 client       0.0333
 9     1 super        0.0328
10     1 address      0.0321
11     2 cash         0.113 
12     2 food         0.0600
13     2 bank         0.0390
14     2 meal         0.0389
15     2 feedback     0.0377
16     2 bread        0.0374
17     2 meat         0.0371
18     2 kebab        0.0350
19     2 prices       0.0317
20     2 generous     0.0305</code></pre>
</div>
</div>
</section>
<section id="interprétation-des-résultats" class="slide level2 smaller" data-transition="none">
<h2>Interprétation des résultats</h2>
<div class="columns">
<div class="column" style="width:50%;">
<h3 id="sujet-services-et-expérience">Sujet : Services et expérience</h3>
<ul>
<li>portions (0.0384)</li>
<li>hygiene (0.0381)</li>
<li>takes (0.0374)</li>
<li>seasoned (0.0366)</li>
<li>recommend (0.0364)</li>
<li>lady (0.0352)</li>
<li>disappointed (0.0334)</li>
<li>client (0.0333)</li>
<li>super (0.0328)</li>
<li>address (0.0321)</li>
</ul>
</div><div class="column" style="width:50%;">
<h3 id="sujet-nourriture-et-prix">Sujet : Nourriture et prix</h3>
<ul>
<li>cash (0.1130)</li>
<li>food (0.0600)</li>
<li>bank (0.0390)</li>
<li>meal (0.0389)</li>
<li>feedback (0.0377)</li>
<li>bread (0.0374)</li>
<li>meat (0.0371)</li>
<li>kebab (0.0350)</li>
<li>prices (0.0317)</li>
<li>generous (0.0305)</li>
</ul>
</div>
</div>
</section>
<section id="classification-des-reviews-par-sujet" class="slide level2" data-transition="none">
<h2>Classification des reviews par sujet</h2>
<div class="sourceCode" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href=""></a><span class="co"># Afficher la distribution des sujets pour chaque review</span></span>
<span id="cb68-2"><a href=""></a>document_topics <span class="ot">&lt;-</span> <span class="fu">augment</span>(lda_model, <span class="at">data =</span> reviews_dtm)</span>
<span id="cb68-3"><a href=""></a></span>
<span id="cb68-4"><a href=""></a><span class="co"># Mettre en forme pour faciliter la lecture</span></span>
<span id="cb68-5"><a href=""></a>review_classifications <span class="ot">&lt;-</span> document_topics <span class="sc">%&gt;%</span></span>
<span id="cb68-6"><a href=""></a>  <span class="fu">select</span>(document, .topic) <span class="sc">%&gt;%</span></span>
<span id="cb68-7"><a href=""></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb68-8"><a href=""></a>  <span class="fu">mutate</span>(</span>
<span id="cb68-9"><a href=""></a>    <span class="at">review_id =</span> <span class="fu">as.integer</span>(<span class="fu">gsub</span>(<span class="st">"doc_"</span>, <span class="st">""</span>, document)),</span>
<span id="cb68-10"><a href=""></a>    <span class="at">review_text =</span> reviews<span class="sc">$</span>text[review_id],</span>
<span id="cb68-11"><a href=""></a>    <span class="at">primary_topic =</span> <span class="fu">ifelse</span>(.topic <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"Nourriture"</span>, <span class="st">"Service/Expérience"</span>)</span>
<span id="cb68-12"><a href=""></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb68-13"><a href=""></a>  <span class="fu">select</span>(document, review_text, primary_topic) <span class="sc">%&gt;%</span></span>
<span id="cb68-14"><a href=""></a>  <span class="fu">arrange</span>(document)</span>
<span id="cb68-15"><a href=""></a></span>
<span id="cb68-16"><a href=""></a><span class="co"># Afficher la classification des reviews</span></span>
<span id="cb68-17"><a href=""></a><span class="fu">head</span>(review_classifications, <span class="dv">3</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="classification-des-reviews-par-sujet-1" class="slide level2 smaller" data-transition="none">
<h2>Classification des reviews par sujet</h2>
<div class="columns">
<div class="column" style="width:45%;">
<h3 id="sujet-nourriture">Sujet : Nourriture</h3>
<div style="background-color: #f0f8ff; padding: 10px; border-left: 4px solid #4682b4;">
<p><strong>Review 1</strong><br>
“Super good kebab! The portions are generous, the prices are really reasonable…”<br>
<strong>Mots-clés:</strong> kebab, meat, bread, portions</p>
</div>
</div><div class="column" style="width:55%;">
<h3 id="sujet-serviceexpérience">Sujet : Service/Expérience</h3>
<div style="background-color: #fff0f5; padding: 10px; border-left: 4px solid #db7093; margin-bottom: 10px;">
<p><strong>Review 2</strong><br>
“Nothing exceptional, just edible. I had good feedback about the food and I was very, very disappointed…”<br>
<strong>Mots-clés:</strong> disappointed, cash only, exceptional</p>
</div>
<div style="background-color: #fff0f5; padding: 10px; border-left: 4px solid #db7093;">
<p><strong>Review 3</strong><br>
“Food is good and price is ok. The only issu is the attitude of the staff…”<br>
<strong>Mots-clés:</strong> staff, attitude, hygiene</p>
</div>
</div>
</div>
<div class="quarto-auto-generated-content">
<p><img src="https://upload.wikimedia.org/wikipedia/en/thumb/4/4b/Universite_de_Montreal_logo.svg/1920px-Universite_de_Montreal_logo.svg.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://fas1001.com">FAS1001</a></p>
</div>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="cours_6_analyse_textuelle_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="cours_6_analyse_textuelle_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="cours_6_analyse_textuelle_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="cours_6_analyse_textuelle_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="cours_6_analyse_textuelle_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="cours_6_analyse_textuelle_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="cours_6_analyse_textuelle_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="cours_6_analyse_textuelle_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="cours_6_analyse_textuelle_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="cours_6_analyse_textuelle_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'fast',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copié");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copié");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>